gsap.registerPlugin(ScrollTrigger),gsap.registerPlugin(ScrollToPlugin),ScrollTrigger.defaults({toggleActions:"restart pause resume pause",scroller:".main"}),ScrollTrigger.create({trigger:".section-menu",start:"top 20%",end:"bottom top",toggleClass:"active-menu"});let pages,pageNumberBtns=document.querySelectorAll(".page-number");const photosContainer=document.getElementById("photos-container"),nextPageBtn=document.getElementById("next-page"),prevPageBtn=document.getElementById("prev-page");getPhotos(),disablePrevBtn();for(let e=0;e<pageNumberBtns.length;e++)pageNumberBtns[e].addEventListener("click",function(e){Array.from(pageNumberBtns).find(t=>t.textContent===e.currentTarget.textContent).classList.add("active");let t=document.getElementsByClassName("active");t[0].className=t[0].className.replace(" active",""),this.className+=" active",photosContainer.innerHTML="",getPhotos(e.currentTarget.textContent)});function getPhotos(e){const t={method:"flickr.people.getPublicPhotos",api_key:"68b3e55dc78ba3190b94cd0925a4052d",user_id:"196725735@N08",photoset_id:"72177720302652005",format:"json",nojsoncallback:1,extras:"url_c",per_page:9,page:e||1},n=new URLSearchParams(t);fetch(`https://api.flickr.com/services/rest/?${n}`).then(e=>e.json()).then(e=>{pages=e.photos.pages,Array.from(pageNumberBtns).find(e=>e.textContent===t.page.toString()).classList.add("active");const n=e.photos.photo.map(e=>{const t=document.createElement("img"),n=document.createElement("div");return t.src=e.url_c,n.classList.add("photo-wrapper"),n.appendChild(t),n});for(var r=0;r<n.length;++r)photosContainer.appendChild(n[r])})}function disablePrevBtn(){prevPageBtn.disabled=!!Array.from(pageNumberBtns).find(e=>"1"===e.textContent)}function disableNextBtn(){Array.from(pageNumberBtns).find(e=>e.textContent===pages.toString())?nextPageBtn.disabled=!0:prevPageBtn.disabled=!1}nextPageBtn.addEventListener("click",function(){pageNumberBtns.forEach(e=>{e.textContent=Number(e.textContent)+1}),Array.from(pageNumberBtns).forEach(e=>e.classList.remove("active")),disableNextBtn()}),prevPageBtn.addEventListener("click",function(){pageNumberBtns.forEach(e=>{e.textContent=Number(e.textContent)-1}),Array.from(pageNumberBtns).forEach(e=>e.classList.remove("active")),disablePrevBtn(),nextPageBtn.disabled=!!Array.from(pageNumberBtns).find(e=>e.textContent===pages.toString())});